# THIS FILE IS AUTOGENERATED DO NOT EDIT (IT WILL BE OVERWRITTEN).
[tox]
envlist = {py27}-{backup_core},{py27}-{backup_cli}

skipsdist = true

[testenv]
# Since tox doesnt install the package itself, it will not understand these commands without a whitelist.
whitelist_externals =
    scream
    flake8
    coverage
deps =
    scream

##############################
# Packages
##############################
commands =
    backup_cli: flake8 cli --config={toxinidir}/tox.ini --statistics
    backup_cli: scream install backup_cli
    backup_cli: coverage run -a -m unittest discover -v -t cli -s cli/tests

    backup_core: flake8 core --config={toxinidir}/tox.ini --statistics
    backup_core: scream install backup_core
    backup_core: coverage run -a -m unittest discover -v -t core -s core/tests


##############################
# Configuration
##############################

[flake8]
max-line-length = 120
ignore = E402

[coverage:run]
branch = True
omit =
    *tests/*
    *setup.py

[coverage:report]
exclude_lines =
    noqa
    pragma: no cover
    def __repr__
    raise AssertionError
    raise NotImplementedError
    if __name__ == .__main__.:
omit =
    *__init__.py
    .tox/*

