# THIS FILE IS AUTOGENERATED DO NOT EDIT (IT WILL BE OVERWRITTEN).
[tox]
envlist = {py>=27}-{backup_cli,backup_core,backup_ext}

skipsdist = true

[testenv]
# Since tox doesnt install the package itself, it will not understand these commands without a whitelist.
whitelist_externals =
    scream
    flake8
    coverage
deps =
    scream
    -r{toxinidir}/cli/requirements.txt
    -r{toxinidir}/core/requirements.txt

##############################
# Packages
##############################
commands =
    backup_cli: flake8 cli --config={toxinidir}/tox.ini --statistics
    backup_cli: scream install backup_cli
    backup_cli: coverage run -a -m unittest discover -v -t cli -s cli/tests

    backup_core: flake8 core --config={toxinidir}/tox.ini --statistics
    backup_core: scream install backup_core
    backup_core: coverage run -a -m unittest discover -v -t core -s core/tests

    backup_ext: flake8 ext --config={toxinidir}/tox.ini --statistics
    backup_ext: scream install backup_ext
    backup_ext: coverage run -a -m unittest discover -v -t ext -s ext/tests


##############################
# Configuration
##############################

[flake8]
max-line-length = 120
ignore = E402

[coverage:run]
branch = True
omit =
    *tests/*
    *setup.py

[coverage:report]
exclude_lines =
    noqa
    pragma: no cover
    def __repr__
    raise AssertionError
    raise NotImplementedError
    if __name__ == .__main__.:
omit =
    *__init__.py
    .tox/*

